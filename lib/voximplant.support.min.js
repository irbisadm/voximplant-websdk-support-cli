window.VoxImplantSupport=new function(){let a=null,b=[],c,d;this.init=(e,f)=>{if(!e)throw new Error('Please, set reportServer.');if(c=e,f)a=f;else if(window.VoxImplant)a=window.VoxImplant;else throw new Error('Voximplant SDK not found.');const g=a.getInstance();g.setLoggerCallback(h=>b.push(h))},this.onLogSent=void 0,this.onSendingError=void 0,this.sendLogs=(e,f)=>{if(!a)throw new Error('Voximplant Support library hasn\'t been setup yet. Please, call init first.');var g=new XMLHttpRequest;g.addEventListener('load',this.onLogSent||(()=>{alert('An issue report has been sent. Thank you!')})),g.addEventListener('error',this.onSendingError||(()=>{alert('An issue report can\'t be sent. Network problem!')})),g.open('POST',c),f?(g.setRequestHeader('Content-Type','application/x-www-form-urlencoded'),g.send(`sdk_log=${JSON.stringify(b)}&info=${e||'none'}`)):(g.setRequestHeader('Content-Type','application/json'),g.send(JSON.stringify({sdk_log:b,info:e||'none'})))},this.renderButton=(e,f,g)=>{if(d=document.createElement('button'),d.classList.add(g||'voximplant-support__button'),d.textContent=f||'Report voice/video issue',d.tabIndex=-1,!g){const i=document.createElement('style');i.type='text/css',i.innerHTML='.voximplant-support__button{z-index:9000;position:fixed;bottom: 8px;right:8px;justify-content:center;text-decoration:none;border-radius:4px;outline:0;box-sizing:border-box;padding:15px 21px;background-color:#662eff;border:1px solid #662eff;color:#fff;font-family:\'Roboto Mono\',monospace;font-size:12px;font-weight:500;line-height:1;text-transform:uppercase;cursor:pointer;letter-spacing:0.3px;transition:background 0.3s ease,border 0.3s ease;}.voximplant-support__button:hover{color:#150633;background-color:#d2c2ff;border:1px solid #d2c2ff;}',document.getElementsByTagName('head')[0].appendChild(i)}const h=e||document.body;h.appendChild(d),d.addEventListener('click',()=>{this.sendLogs()})}};